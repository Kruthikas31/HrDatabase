@{ Layout = null;}
@model JARVIS.Models.EducationExperience

<html>

<head>
    <title>E&E</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="~/Content/wizard.css" />
    <link rel="stylesheet" href="~/Content/buttons.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.5.0/css/bootstrap-datepicker.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.5.0/js/bootstrap-datepicker.js"></script>
    <script src="https://kit.fontawesome.com/99c88c9b62.js" crossorigin="anonymous"></script>
    <style>
        .green {
            border: 2px solid #34F458;
        }

        .red {
            border: 2px solid #F90A0A;
        }

        .e1 {
            color: #F90A0A;
            font-size: 12px;
        }
    </style>
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
</head>
<script type="text/javascript">


    function getQueryVariable(variable) {
        var query = window.location.search.substring(1);
        var vars = query.split('&');
        for (var i = 0; i < vars.length; i++) {
            var pair = vars[i].split('=');
            if (decodeURIComponent(pair[0]) == variable) {
                return decodeURIComponent(pair[1]);
            }
        }
        console.log('Query variable %s not found', variable);
    }

    var token = '@ViewBag.token';
</script>

<body>

    <div>
        <div class="nav" style=" background-color: white;">
            <div class="top-nav d-flex justify-content-between">
                <img src="logo.PNG" style="width: auto; height: 60px; padding-top: 0px; margin-top: 15px;">

                <ul id="progressbar">
                    <li>
                        <button id="bt1" class="b1"><i class="far fa-id-card" style="font-size: 20px"></i></button>
                        <div id="before">
                            <div id="bar1" class="before-bar" style="height: 4px; width:120px;"></div>
                        </div>Details
                    </li>
                    <li>
                        <button id="bt2" class="b1 active"><i class="fas fa-user-graduate" style="font-size: 20px"></i></button>
                        <div id="before">
                            <div id="bar2" class="before-bar" style="height:4px; width: 100px;"></div>
                        </div>Education & Experience
                    </li>
                    <li>
                        <button id="bt3" class="b1"><i class="fas fa-file-upload" style="font-size: 20px"></i></button>
                        <div id="before">
                            <div id="bar3" class="before-bar" style="height:4px; width:100px;"></div>
                        </div>Upload Documents
                    </li>
                    <li>
                        <button id="bt4" class="b1"><i class="fas fa-file-signature" style="font-size: 20px"></i></button>
                        <div id="before">
                            <div id="bar4" class="before-bar" style="height:4px; width:100px;"></div>
                        </div>Sign Documents
                    </li>
                    <li>
                        <button class="b1 last"><i class="far fa-check-circle" style="font-size: 20px"></i></button>
                        <div id="before">
                            <div class="before-bar" style="height:4px; width:100px; visibility: hidden;"></div>
                        </div>Finish
                    </li>
                </ul>

                <img src="starmark20.PNG" style="height: 70px; width: 70px;">
            </div>
            <div id="grad"></div>
        </div>
        <!--nav end-->
        <div class="row">
            <div class="col-3 sidenavb" style="padding-top: 10px; padding-left: 30px;">
                <p>Personal Details </p>
                <a href="@Url.Action("BasicInformation", "ProspectiveEmployee")">> Basic Information</a>
                <a href="@Url.Action("BasicInformation", "ProspectiveEmployee")">> Current Address</a>
                <a href="@Url.Action("BasicInformation", "ProspectiveEmployee")">> Permanent Address</a>
                <a href="@Url.Action("BasicInformation", "ProspectiveEmployee")">> Bank Details</a>
                <a href="@Url.Action("BasicInformation", "ProspectiveEmployee")">> Dependent Details</a><br>
                <p>Education and Experience</p>
                <a href="#6">> Education Details</a>
                <a href="#7">> Experience Details</a><br>
                <p><a href="@Url.Action("Upload","Fileupload")"> Upload Documents</a></p>
                <p><a href="@Url.Action("Index","Sign", new { token=ViewBag.token })">Sign Documents</a></p>
            </div>
            <!--sidenavb end-->

            <div class="col-9 main" style="padding-top: 20px;">
                <h4 id="6">
                    Education Details
                    <hr>
                </h4><br>


                <div class="mb-5">
                    <div style="text-align: center; display: inline-flex; margin-left: 330px;">
                        <div class="px-2">
                            <button type="button" class="add-bt" data-toggle="modal" id="eduadd" data-target="#myModaledu">ADD</button>
                        </div>

                        <!-- The Modal -->
                        <div class="modal" id="myModaledu">
                            <div class="modal-dialog">
                                <div class="modal-content">

                                    <!-- Modal Header -->
                                    <div class="modal-header">
                                        <h4 class="modal-title">Education Details</h4>
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>

                                    </div>

                                    <!-- Modal body -->
                                    <div class="modal-body" id="EducationDetails">

                                        <div class="py-2">
                                            <label for="degree" style="float: left;">Degree</label>
                                            <select name="degree" class="custom-select d-block w-100" id="degree" placeholder="" required>
                                                <option id="degree">Choose</option>
                                                <option value="Diploma" id="degree">Diploma</option>
                                                <option value="BE" id="degree">Bachelors in Engineering</option>
                                                <option value="ME" id="degree">Masters in Engineering</option>
                                                <option value="BCA" id="degree">
                                                    Bachelors in Computer Applications
                                                </option>
                                                <option value="MCA" id="degree">
                                                    Masters in Computer Applications
                                                </option>
                                                <option value="Btech" id="degree">Bachelors in Technology</option>
                                                <option value="Mtech" id="degree">Masters in Technology</option>
                                                <option value="MBA" id="degree">
                                                    Masters in Business Applications
                                                </option>
                                                <option value="Phd" id="degree">Doctor of Philosophy</option>
                                            </select>
                                        </div>
                                        <div class="py-2">
                                            <label for="specialization" style="float: left;">Specialization</label>
                                            <select name="specialization" class="custom-select d-block w-100" id="specialization" placeholder="" required>
                                                <option id="specialization">Choose</option>
                                                <option value="CS" id="specialization">Computer Science</option>
                                                <option value="IS" id="specialization">Information Science</option>
                                            </select>
                                        </div>
                                        <div class="py-2">
                                            <label for="institute" style="float: left;">Institute</label>
                                            <input name="institute" type="text" value class="form-control" id="institute" required>
                                        </div>
                                        <div class="py-2 form-group">

                                            <label for="year" style="float: left;">Year of Passing</label>
                                            <input name="yearOfPassing" type="text" class="date-own form-control" id="year" required>
                                            <script type="text/javascript">
                                                $('.date-own').datepicker({
                                                    minViewMode: 2,
                                                    format: 'yyyy'
                                                });
                                            </script>
                                        </div>
                                    </div>

                                    <!-- Modal footer -->
                                    <div class="modal-footer">
                                        <button type="button" id="edusave" class="action-button-save" data-dismiss="modal">Save</button>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="px-2">
                            <button type="button" class="edit-bt" id="eduedit" data-toggle="modal" data-target="#myModaledu">EDIT</button>
                        </div>
                        <div class="px-2">
                            <button type="button" class="delete-bt" data-toggle="modal" data-target="#myModaldel1">DELETE</button>
                        </div>
                    </div>
                </div>
                <div class="modal" id="myModaldel1">
                    <div class="modal-dialog">
                        <div class="modal-content">

                            <!-- Modal Header -->
                            <div class="modal-header">
                                <h3 class="modal-title">Delete Education Details</h3>
                                <button type="button" class="close" data-dismiss="modal">&times;</button>

                            </div>

                            <!-- Modal body -->
                            <div class="modal-body">

                                <div class="py-2">
                                    <span class="text-danger" style="font-size: 20px;">
                                        Are you sure you want
                                        to delete this education details?
                                    </span><br>
                                    <span class="text-warning">This action cannot be undone!</span>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="delete-yes" data-dismiss="modal" id="edudelete">Yes</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mb-4">
                    <table class="table" id="educationTable">
                        <thead>
                            <tr>
                                <th>Select</th>
                                <th>Degree</th>
                                <th>Specialization</th>
                                <th>Institute</th>
                                <th>Year of Passing</th>
                            </tr>
                        </thead>
                        @foreach (var item in Model.educationDetails)
                        {
                            <tr>
                                <td> <input type="checkbox" class="form-check-input check" id="exampleCheck1" name="checkbox1" style="margin-left:auto;margin-right:auto"></td>
                                <td>
                                    @item.degree
                                </td>
                                <td>
                                    @item.specialization
                                </td>
                                <td>
                                    @item.institute
                                </td>
                                <td>

                                    @Convert.ToString(string.Format("{0:dd/MM/yyyy}", item.yearOfPassing).Substring(6, 4))
                                </td>
                            </tr>

                        }

                    </table>
                    <br><br>
                </div>

                <h4 id="7">
                    Experience Details
                    <hr>
                </h4><br>

                <div class="mb-5">
                    <div style="text-align: center; display: inline-flex; margin-left: 330px;">
                        <div class="px-2">
                            <button type="button" class="add-bt" data-toggle="modal" id="expadd" data-target="#myModalexp">ADD</button>
                        </div>
                        <!-- The Modal -->
                        <div class="modal" id="myModalexp">
                            <div class="modal-dialog">
                                <div class="modal-content">

                                    <!-- Modal Header -->
                                    <div class="modal-header">
                                        <h4 class="modal-title">Experience Details</h4>
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>

                                    </div>

                                    <!-- Modal body -->
                                    <div class="modal-body" id="ExperienceDetails">

                                        <div class="py-2">
                                            <label for="company" style="float: left;">Company Name</label>
                                            <input name="companyName" type="text" value class="form-control" id="company" required>
                                        </div>
                                        <div class="py-2">
                                            <label for="jobrole" style="float: left;">Job Role/Designation</label>
                                            <input type="text" name="role" value class="form-control" id="jobrole" required>

                                        </div>
                                        <div class="row">
                                            <div class="col-sm-6 py-2">
                                                <label for="fromdate" style="float: left;">From Date</label>
                                                <input type="date" name="fromDate" value class="form-control" id="fromdate" required>
                                            </div>
                                            <div class="col-sm-6 py-2 form-group">

                                                <label for="todate" style="float: left;">To Date</label>
                                                <input type="date" name="toDate" class="form-control" id="todate" required>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-6 py-2 form-group">

                                                <label for="expyears" style="float: left;">Years of Experience</label>
                                                <input type="text" name="yearsOfExperience" class="form-control" id="expyears" required>
                                            </div>
                                            <div class="col-sm-6 py-2 form-group">

                                                <label for="ctc" style="float: left;">Compensation</label>
                                                <input type="text" name="pastSalary" class="form-control" id="ctc" required>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Modal footer -->
                                    <div class="modal-footer">
                                        <button type="button" id="expsave" class="action-button-save" data-dismiss="modal">Save</button>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="px-2">
                            <button type="button" class="edit-bt" data-toggle="modal" data-target="#myModalexp" id="expedit">EDIT</button>
                        </div>

                        <div class="px-2">
                            <button type="button" class="delete-bt" data-toggle="modal" data-target="#myModaldel2">DELETE</button>
                        </div>
                        <div class="modal" id="myModaldel2">
                            <div class="modal-dialog">
                                <div class="modal-content">

                                    <!-- Modal Header -->
                                    <div class="modal-header">
                                        <h3 class="modal-title">Delete Experience Details</h3>
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>

                                    </div>

                                    <!-- Modal body -->
                                    <div class="modal-body">

                                        <div class="py-2">
                                            <span class="text-danger" style="font-size: 20px;">
                                                Are you sure you want
                                                to delete this experience details?
                                            </span><br>
                                            <span class="text-warning">This action cannot be undone!</span>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="delete-yes" data-dismiss="modal" id="expdelete">Yes</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="mb-3">
                    <table class="table" id="experienceTable">
                        <thead>
                            <tr style="height: 45px;">
                                <th>Select</th>
                                <th>Company name</th>
                                <th>Job role/Designation</th>
                                <th>From date</th>
                                <th>To date</th>
                                <th>Years of Experience</th>
                                <th>Compensation</th>
                            </tr>
                        </thead>

                        @foreach (var item in Model.experienceDetails)
                        {
                    <tr>

                        <td><input type="checkbox" class="form-check-input check" id="exampleCheck1" name="checkbox1" style="margin-left:auto;margin-right:auto"></td>
                        <td>
                            @item.companyName
                        </td>
                        <td>
                            @item.role
                        </td>
                        <td>
                            @item.fromDate.ToString("dd/MM/yyyy")
                        </td>
                        <td>
                            @item.toDate.ToString("dd/MM/yyyy")
                        </td>
                        <td id="expYearsCol">
                            
                        </td>
                        <td>
                            @item.pastSalary
                        </td>

                        <script>
                            $(document).ready(function () {
                                var date1 = new Date( @item.fromDate.ToString().Substring(0, 10));
                                var date2 =  new Date( @item.toDate.ToString().Substring(0, 10));;
                            var timeDiff = Math.abs(date2.getTime() - date1.getTime());
                            var diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));
                                var k = (diffDays / 365).toFixed(0);
                                document.getElementById("expYearsCol").textContent = k;
                        </script>


                    </tr>
                        }


                    </table>
                </div>

                <br><br><br>

                <div class="button-group px-3">
                    <input type="button" class="action-button-save" value="Save" />
                    <a href=@Url.Action("Upload", "Fileupload")><input type="button" id="eduSave" name="next" class="next action-button-sn" value="Save & Next" /></a>
                    <input type="button" class="b2 action-button-can" value="Cancel" />
                </div>
                <br><br>
            </div>
            <!--main end-->
        </div>
        <!--row end-->
    </div>
    <!--outermost div end-->
    <hr>
    @*<div class="footer">
            <div class="foot">
                <ol>
                    <li><a><button id="support">Get Support</button></a></li>
                    <li>Send Feedback</li>
                    <li>Terms of Use</li>
                    <li>FAQ</li>
                </ol>
            </div>
            <p><b>&copy Starmark Software Pvt.Ltd.2021</b></p>
        </div>*@
</body>

</html>